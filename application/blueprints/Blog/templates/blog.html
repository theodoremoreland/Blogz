{% extends "base.html" %}
{% block content %}


{% if blog|length > 0 %}
<ul class="blog-previews">
    {% for blog_post in blog %}
    <li class="blog-preview">
        <h2 class="title">
            <a href="/blog?blog_post_id={{blog_post.id}}">{{blog_post.title}}</a>
        </h2>
        <p class="entry">
            {{blog_post.entry[0:100]}}...
        </p>
        <p class="author">
            written by <a href="/blog?user={{blog_post.author_id}}">{{blog_post.author.username}}</a>
        </p>
        <div class="metadata">
            <span class="date">
                on {{blog_post.created_at.strftime("%B %d, %Y")}}
            </span>
            <span class="comment-count">
                <a href="/blog?blog_post_id={{blog_post.id}}#comment-section">
                    {{blog_post.comments|length}} comments
                </a>
            </span>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p class="no-blog-posts">
    No blog posts found. Be the first by <a href="/create-blog-post">creating a new blog post</a> or <a
        href="/signup">registering</a> for an account.
</p>
{% endif %}
{% endblock %}